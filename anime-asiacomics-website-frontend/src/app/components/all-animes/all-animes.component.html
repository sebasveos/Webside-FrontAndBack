<div class="div"></div>

<div class="titleAllAnimes">
  <h6 class="mb-4">¡Para que no pierdas la emocion!</h6>
  <h4 class="mb-5">Animes</h4>
</div>

<div class="content-category">
  <div class="div-container-category">
    <div class="row itemsAllAnimes">
      <div class="buttons-searchAllAnimes">
        <div class="searchAllanimes col-2">
          {{ tipoSeleccionado.texto }}
          <div class="dropdown-content-all-animes">
              <a (click)="seleccionarTipo('serie', 'Serie')">Serie</a>
              <a (click)="seleccionarTipo('pelicula', 'Película')">Pelicula</a>
              <a (click)="seleccionarTipo('OVA', 'OVA')">OVA</a>
          </div>
      </div>
        <div class="searchAllanimes col-2">
          {{ categoriaSeleccionada.texto }}
          <div class="dropdown-content-all-animes">
            <a (click)="seleccionarCategoria('Acción', 'Acción')">Acción</a>
            <a (click)="seleccionarCategoria('Aventura', 'Aventura')">Aventura</a>
            <a (click)="seleccionarCategoria('Sci Fi', 'Sci Fi')">Sci Fi</a>
            <a (click)="seleccionarCategoria('Romance', 'Romance')">Romance</a>
            <a (click)="seleccionarCategoria('Drama', 'Drama')">Drama</a>
            <a (click)="seleccionarCategoria('Deportes', 'Deportes')">Deportes</a>
            <a (click)="seleccionarCategoria('Fantasía', 'Fantasía')">Fantasía</a>
            <a (click)="seleccionarCategoria('Sobrenatural', 'Sobrenatural')">Sobrenatural</a>
            <a (click)="seleccionarCategoria('Comedia', 'Comedia')">Comedia</a>
            <a (click)="seleccionarCategoria('Música', 'Música')">Música</a>
          </div>
        </div>
        <div class="searchAllanimes col-2">
          {{ anoSeleccionado.texto }}

          <div class="dropdown-content-all-animes">
            <a (click)="seleccionarAno(2023, '2023')">2023</a>
            <a (click)="seleccionarAno(2022, '2022')">2022</a>
            <a (click)="seleccionarAno(2021, '2021')">2021</a>
            <a (click)="seleccionarAno(2020, '2020')">2020</a>
            <a (click)="seleccionarAno(2019, '2019')">2019</a>
            <a (click)="seleccionarAno(2018, '2018')">2018</a>
            <a (click)="seleccionarAno(2017, '2017')">2017</a>
            <a (click)="seleccionarAno(2016, '2016')">2016</a>
            <a (click)="seleccionarAno(2015, '2015')">2015</a>
            <a (click)="seleccionarAno(2014, '2014')">2014</a>
            <a (click)="seleccionarAno(2013, '2013')">2013</a>
            <a (click)="seleccionarAno(2012, '2012')">2012</a>
            <a (click)="seleccionarAno(2011, '2011')">2011</a>
            <a (click)="seleccionarAno(2010, '2010')">2010</a>
            <a (click)="seleccionarAno(2009, '2009')">2009</a>
            <a (click)="seleccionarAno(2008, '2008')">2008</a>
            <a (click)="seleccionarAno(2007, '2007')">2007</a>
            <a (click)="seleccionarAno(2006, '2006')">2006</a>
            <a (click)="seleccionarAno(2005, '2005')">2005</a>
            <a (click)="seleccionarAno(2004, '2004')">2004</a>
            <a (click)="seleccionarAno(2003, '2003')">2003</a>
            <a (click)="seleccionarAno(2002, '2002')">2002</a>
            <a (click)="seleccionarAno(2001, '2001')">2001</a>
            <a (click)="seleccionarAno(2000, '2000')">2000</a>
            <a (click)="seleccionarAno(1999, '1999')">1999</a>
            <a (click)="seleccionarAno(1998, '1998')">1998</a>
            <a (click)="seleccionarAno(1997, '1997')">1997</a>
            <a (click)="seleccionarAno(1996, '1996')">1996</a>
            <a (click)="seleccionarAno(1995, '1995')">1995</a>
            <a (click)="seleccionarAno(1994, '1994')">1994</a>
            <a (click)="seleccionarAno(1993, '1993')">1993</a>
            <a (click)="seleccionarAno(1992, '1992')">1992</a>
            <a (click)="seleccionarAno(1991, '1991')">1991</a>
            <a (click)="seleccionarAno(1990, '1990')">1990</a>
            <a (click)="seleccionarAno(1989, '1989')">1989</a>
          </div>
        </div>

        <div class="search1 col-2" (click)="buscarAnimesPorCriterios()">
          <i class="fa-solid fa-magnifying-glass" ></i>
        </div>

      </div>
      
      
      
      <div class="col-6 col-md-3 col-lg-2 btn cursor-pointer text-white main_container" *ngFor="let anime of animes" (click)="onAnimeClick(anime.name, anime._id)">
        <div class="image" *ngIf="anime.image">
          <img [src]="url + 'get-image/' + anime.image" *ngIf="anime.image">
        </div>
        <h6 class="title">{{ anime.name }}</h6>
        <div class="hover-text">
          <h6 class="title">{{anime.name}}</h6>
          
          <p class="description">{{ truncateText(anime.description, 135) }}</p> <!-- Limita a 50 caracteres y agrega puntos suspensivos -->
          <div class="icon" (click)="onCapAnime(anime.name, 1)">
            <i class="fas fa-play m-3 icong1" title="Reproducir"></i>
          </div>
          <div class="icon2" *ngIf="decodedToken" (click)="addFavoriteAnime($event,decodedToken.id, anime.name)">
            <i class="fa-regular fa-bookmark m-3 icong1" title="Añadir a favoritos"></i>
          </div>
          <div class="icon2" *ngIf="!decodedToken" (click)="toggleModal($event)">
            <i class="fa-regular fa-bookmark m-3 icong1" title="Añadir a favoritos"></i>
          </div>
        </div> 
      </div>
    </div>
  </div>
</div>
<div class="modal" *ngIf="isModalVisible">
  <div class="modal-content">
    <span class="close" (click)="toggleModal($event)">&times;</span>
    <div class="image-Hinata">
      <img src="../../../assets/css/img/Hinata.png" >
    </div>
    <h3>Inicia sesión o Crea una cuenta</h3>
    <p>¡Para comentar, anadir serie y peliculas a tus favoritos! Crea una cuenta de OtakuChino o inicia sesión</p>
    <div class="buttons-sesion">
      <div class="button-sesion" [routerLink]="['/iniciar-sesion']">
        INICIA SESION
      </div>
      <div class="button-sesion" [routerLink]="['/registrarse']"> 
        CREA UN CUENTA
      </div>
    </div>
  </div>
</div>
<app-footer-components></app-footer-components>
